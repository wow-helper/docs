"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5148],{9191:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var n=s(6540),r=(s(9676),s(1272)),o=s(8994),a=s(4192),i=s(3660),h=s(1213),d=s(4848);function c(e){let{children:t}=e;return(0,d.jsx)(i.A,{children:(0,d.jsxs)(h.e3,{className:"myPageHtmlClassName",children:[(0,d.jsx)(h.be,{title:"\u9996\u9875 from ",description:"\u6b22\u8fce from "}),t]})})}var l=s(2147),p=s(9976),m=s(8948),u=s(149),g=s(2547),w=s(7894),k=s(125),x=s(3745),j=s(4613),b=s(2683),f=s(5255),v=(s(5338),s(5576)),M=s(1337),y=s(2370),C=s(7776),N=s(5848);const A=n.createContext({isMac:!0});const T=[u.A,g.A,w.A,k.A,x.A,j.A,b.A,f.A];class D extends n.Component{onChange=e=>{};constructor(e){super(e),this.markdown=e.markdown,this.onChange=e.onChange}componentDidMount(){(0,m.S)(T).then((e=>{this.starryNight=e;const t=this.starryNight.missingScopes();if(t.length>0)throw new Error("Unexpected missing required scopes: `"+t+"`");this.start()}))}componentDidUpdate(e,t,s){this.props.markdown!==e.markdown&&this.handleMarkdownChange({target:{value:this.props.markdown}})}starryNight=null;html="";markdown="# Hello, world!\n\nBelow is an example of markdown in JSX.\n\n<div style={{backgroundColor: 'violet', padding: '1rem'}}>\n  Try and change the background color to `tomato`.\n</div>";async go(){const e=[];e.push(M.A),e.push(y.A),e.push(C.A);const t=new v.T({basename:"example.mdx",value:this.markdown});await(0,l.w)(t,{development:!1,outputFormat:"function-body",recmaPlugins:[],rehypePlugins:[],remarkPlugins:e});const{default:s}=await(0,p.e)(String(t),{Fragment:d.Fragment,jsx:d.jsx,jsxs:d.jsxs,baseUrl:window.location.href});return N.renderToStaticMarkup((0,d.jsx)(A.Provider,{value:{isMac:false,codeTheme:"xxx-codeTheme"},children:(0,d.jsx)("div",{className:"playground-result",children:(0,d.jsx)(s,{})})}))}start(){this.go().then((e=>{this.html=e,this.setState({})})).catch((e=>{this.html=e,this.setState({})}))}handleMarkdownChange=e=>{this.markdown=e.target.value,this.setState({}),this.start(),this.onChange(this.markdown)};render(){return(0,d.jsxs)("div",{className:"EditorMDX",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"Markdown \u7f16\u8f91\u5668"}),(0,d.jsx)("textarea",{className:"playground-write",rows:9,value:this.markdown,onChange:this.handleMarkdownChange})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"HTML \u9884\u89c8"}),(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:this.html}})]})]})}}const S=s(6716).A.create({baseURL:"",timeout:6e3}),V=e=>(e.response&&console.error(e.response),Promise.reject(e));S.interceptors.request.use((e=>{const t=window.atob(window.atob("WjJsMGFIVmlYM0JoZEY4eE1VRkVTbGxQUzFrd1QycFdXV1k0V2twRE5FWTVYMFUzUnpWQ2VHWjJiRFl6ZDBkMWIyNTZOVWx5ZW1FM1VWaDNiR0ZhVmpVeFVEZHhjV1F4Ukc5b2F6TktNelZNUVRNMVNYTnJkbE5NTXpGTA=="));return e.headers.Authorization="Bearer "+t,e}),V),S.interceptors.response.use((e=>200===e.status?e.data:V({response:e})),V);const F="wow-helper",P="wiki";Date.now().toString();function E(e,t,s){let[n,r,o]=t,[a]=s;return e.sort(((e,t)=>{if(e[n]===r&&t[n]===o)return-1;if(e[n]===o&&t[n]===r)return 1;{const s=e.path,n=t.path;return e[a].startsWith("_")&&!t[a].startsWith("_")?-1:!e[a].startsWith("_")&&t[a].startsWith("_")?1:s.localeCompare(n)}})),e}function W(e){return decodeURIComponent(escape(window.atob(e)))}r.A.Node;function R(e){return(0,d.jsx)(c,{children:(0,d.jsx)(U,{})})}class U extends n.Component{constructor(e){super(e)}componentDidMount(){S({url:"https://api.github.com/user",method:"get",params:{}}),S({url:`https://api.github.com/repos/${F}/${P}/contents/README.md`,method:"get"}).then((e=>(e.content=W(e.content),e))).then((e=>{this.state.markdown=e.content,this.setState({})})),S({url:`https://api.github.com/repos/${F}/${P}/contents`,method:"get"}).then((e=>E(e,["type","dir","file"],["path"]))).then((e=>{for(const t of e)this.treeData.push(this.createTreeNodeData(t.path,t.sha,"dir"===t.type));this.setState({})}))}createTreeNodeData(e,t,s){return void 0===s&&(s=!0),{title:e,key:t,isLeaf:!s,icon:s?(0,d.jsx)(o.A,{}):(0,d.jsx)(a.A,{})}}treeData=[];state={visible:!1,type:"",markdown:""};options={"\u56fe\u50cf":["PNG","JPG","GIF"],"\u89c6\u9891":["AVI","MP4","MKV"],"\u6587\u6863":["PDF","PDF","7z","ZIP"]};onChange(e){this.state.type=e,this.props.onChange(e),this.onHide()}onShow(){this.state.visible=!0,this.setState({})}onHide(){this.state.visible=!1,this.setState({})}onChangeMarkdown(e){console.log(e)}loadMore=e=>{return(t=e.key,S({url:`https://api.github.com/repos/${F}/${P}/git/trees/${t}`,method:"get"}).then((e=>E(e.tree,["type","tree","blob"],["path"])))).then((t=>{e.props.dataRef.children=[];for(const s of t)e.props.dataRef.children.push(this.createTreeNodeData(s.path,s.sha,"tree"===s.type));this.setState({})}));var t};onClickTree(e,t){var s;t.node.props.isLeaf&&(s=t.node.key,S({url:`https://api.github.com/repos/${F}/${P}/git/blobs/${s}`,method:"get"}).then((e=>(e.content=W(e.content),e)))).then((e=>{console.log(e.content)}))}render(){return(0,d.jsxs)("div",{className:"EditorPage",children:[(0,d.jsx)("div",{className:"EditorPage-left",children:(0,d.jsx)(r.A,{actionOnClick:["expand","select"],onSelect:(e,t)=>this.onClickTree(e,t),loadMore:e=>this.loadMore(e),treeData:this.treeData})}),(0,d.jsx)("div",{className:"EditorPage-right",children:(0,d.jsx)(D,{markdown:this.state.markdown,onChange:this.onChangeMarkdown})})]})}}}}]);